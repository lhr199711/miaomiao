(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76cc9137"],{"0d03":function(e,t,n){var o=n("6eeb"),a=Date.prototype,i="Invalid Date",r="toString",s=a[r],c=a.getTime;new Date(NaN)+""!=i&&o(a,r,(function(){var e=c.call(this);return e===e?s.call(this):i}))},"161d":function(e,t,n){"use strict";var o=n("45c5"),a=n.n(o);a.a},"45c5":function(e,t,n){},6439:function(e,t,n){"use strict";var o=n("6ac2"),a=n.n(o);a.a},"6ac2":function(e,t,n){},7826:function(e,t,n){"use strict";var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"msg-wraper"},[n("h4",[e._v(e._s(e.title))]),n("p",[e._v(e._s(e.content))]),n("div",["默认"!=e.cancel?n("div",{on:{touchstart:e.cancelfn}},[e._v(e._s(e.cancel))]):e._e(),n("div",{on:{touchstart:e.okfn}},[e._v(e._s(e.ok))])])])},i=[],r={},s=r,c=(n("161d"),n("2877")),u=Object(c["a"])(s,a,i,!1,null,"2efc4e3c",null),d=u.exports;n.d(t,"a",(function(){return l}));var l=function(){return function(e){var t={title:"默认",content:"默认",cancel:"默认",ok:"默认",cancelfn:null,okfn:null},n=o["default"].extend(d);for(var a in e)t[a]=e[a];var i=new n({el:document.createElement("div"),data:{title:t.title,content:t.content,cancel:t.cancel,ok:t.ok},methods:{cancelfn:function(){t.cancelfn&&t.cancelfn.call(this),document.body.removeChild(i.$el)},okfn:function(){t.okfn&&t.okfn.call(this),document.body.removeChild(i.$el)}}});document.body.appendChild(i.$el)}}()},b301:function(e,t,n){"use strict";var o=n("d039");e.exports=function(e,t){var n=[][e];return!n||!o((function(){n.call(null,t||function(){throw 1},1)}))}},c975:function(e,t,n){"use strict";var o=n("23e7"),a=n("4d64").indexOf,i=n("b301"),r=[].indexOf,s=!!r&&1/[1].indexOf(1,-0)<0,c=i("indexOf");o({target:"Array",proto:!0,forced:s||c},{indexOf:function(e){return s?r.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},d4a1:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"用户名/手机号/Email",maxlength:"17"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入您的密码",autocomplete:"",maxlength:"17"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.verify,expression:"verify"}],attrs:{type:"text",placeholder:"请输入验证码",maxlength:"8"},domProps:{value:e.verify},on:{input:function(t){t.target.composing||(e.verify=t.target.value)}}}),n("div",[n("img",{attrs:{src:"/api2/api2/users/verifyImg"},on:{touchstart:e.sendRequest}}),n("span",[e._v("点击图片切换验证码")])]),n("div",{staticClass:"loginDiv",on:{touchstart:e.loginfn}},[e._v("登录")])]),n("div",{staticClass:"options"},[n("span",{on:{touchstart:e.regNow}},[e._v("立即注册")]),n("span",{on:{touchstart:e.findPs}},[e._v("找回密码")])])])},a=[],i=(n("c975"),n("0d03"),n("bc3a"),n("7826")),r={name:"Login",data:function(){return{username:"",password:"",verify:""}},mounted:function(){},methods:{loginfn:function(){var e=this;this.axios.post("/api2/api2/users/login",{username:this.username,password:this.password,verify:this.verify}).then((function(t){if(0==t.data.status){var n=e,o=new Date;o.setTime(o.getTime()+36e5),document.cookie="nowUser="+e.username+";path=/;expires="+o.toGMTString(),document.cookie="isAdmin="+t.data.isAdmin+";path=/;expires="+o.toGMTString(),e.$store.commit("nowUser/CHANGE_USERNAME",{username:e.username,isAdmin:t.data.isAdmin}),window.localStorage.setItem("headPic",t.data.headPic),Object(i["a"])({title:"登录",content:"登录成功",ok:"确定",cancel:"取消",okfn:function(){n.$store.commit("nowUser/CHANGE_HEADPIC",{headPic:t.data.headPic}),n.$router.push("/mine/center")}})}else Object(i["a"])({title:"登录",content:t.data.msg,ok:"确定",cancel:"取消"})}))},regNow:function(){this.$router.push("/mine/register")},findPs:function(){this.$router.push("/mine/findPassword")},sendRequest:function(e){e.target.src="/api2/api2/users/verifyImg?"+Math.random()}},beforeRouteEnter:function(e,t,n){var o=document.cookie;-1==o.indexOf("nowUser")?n():n((function(e){e.$router.push("/mine/center")}))}},s=r,c=(n("6439"),n("2877")),u=Object(c["a"])(s,o,a,!1,null,"3e50c694",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-76cc9137.5a507629.js.map